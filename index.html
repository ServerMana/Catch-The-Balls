<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>캐치 볼</title>
    <link rel="stylesheet" href="css/game.css">
</head>
<body>
    <main id="app" class="app-container">
        <!-- Start Screen -->
        <div id="startScreen" class="screen">
            <canvas id="previewCanvas"></canvas>
            <div class="screen-content">
                <h1 id="startTitle" class="title">캐치 볼</h1>
                <p id="startDesc" class="description">바닥에 닿기 전에 떨어지는 공을 클릭하세요!</p>
                    <div class="settings">
                        <div class="form-group">
                            <label id="labelLanguage" for="langSelect">언어</label>
                            <select id="langSelect">
                                <option value="ko">한국어</option>
                                <option value="en">English</option>
                                <option value="ja">日本語</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label id="labelMode" for="modeSelect">게임 모드</label>
                            <select id="modeSelect">
                                <option value="standard" selected>기본 (목숨 제한)</option>
                                <option value="infinite">연습 모드</option>
                                <option value="timed">시간 제한</option>
                            </select>
                        </div>
                        <div class="form-group" id="livesGroup">
                            <label id="labelLives" for="livesInput">목숨</label>
                            <input id="livesInput" type="number" min="1" max="10" value="3" />
                        </div>
                        <div class="form-group">
                            <label id="labelDifficulty" for="difficultySelect">난이도</label>
                            <select id="difficultySelect">
                                <option value="easy">쉬움</option>
                                <option value="normal" selected>보통</option>
                                <option value="hard">어려움</option>
                                <option value="custom">커스텀</option>
                            </select>
                        </div>
                        <div class="form-group" id="timeGroup" style="display:none;">
                            <label id="labelTimeLimit" for="timeLimitInput">제한 시간(초)</label>
                            <input id="timeLimitInput" type="number" min="5" max="600" value="60" />
                        </div>
                    </div>
                    
                    <!-- 난이도 정보 표시 -->
                    <div id="difficultyInfo" class="difficulty-info">
                        <div class="info-item">
                            <span class="info-label" id="labelSpawnSpeed">생성 속도:</span>
                            <span class="info-value" id="spawnSpeedValue">보통</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label" id="labelFallSpeed">낙하 속도:</span>
                            <span class="info-value" id="fallSpeedValue">보통</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label" id="labelBallSize">공 크기:</span>
                            <span class="info-value" id="ballSizeValue">보통</span>
                        </div>
                    </div>

                    <!-- 점수 시스템 안내 -->
                    <div class="score-system-info">
                        <div class="score-system-header" id="scoreSystemToggle">
                            <h4 id="labelScoreSystem">점수 시스템</h4>
                            <span class="toggle-icon">▼</span>
                        </div>
                        <div class="score-system-content" id="scoreSystemContent">
                            <div class="score-item">
                                <div class="score-ball" style="width: 16px; height: 16px; background: radial-gradient(circle at 30% 30%, #ef4444, #991b1b);"></div>
                                <span class="score-size" id="scoreVerySmall">매우 작음 (≤20px)</span>
                                <span class="score-points">30<span id="pointsUnit1">점</span></span>
                            </div>
                            <div class="score-item">
                                <div class="score-ball" style="width: 24px; height: 24px; background: radial-gradient(circle at 30% 30%, #f59e0b, #b45309);"></div>
                                <span class="score-size" id="scoreSmall">작음 (21-30px)</span>
                                <span class="score-points">20<span id="pointsUnit2">점</span></span>
                            </div>
                            <div class="score-item">
                                <div class="score-ball" style="width: 32px; height: 32px; background: radial-gradient(circle at 30% 30%, #10b981, #047857);"></div>
                                <span class="score-size" id="scoreMedium">중간 (31-40px)</span>
                                <span class="score-points">15<span id="pointsUnit3">점</span></span>
                            </div>
                            <div class="score-item">
                                <div class="score-ball" style="width: 40px; height: 40px; background: radial-gradient(circle at 30% 30%, #3b82f6, #1e40af);"></div>
                                <span class="score-size" id="scoreLarge">큼 (41-50px)</span>
                                <span class="score-points">10<span id="pointsUnit4">점</span></span>
                            </div>
                            <div class="score-item">
                                <div class="score-ball" style="width: 48px; height: 48px; background: radial-gradient(circle at 30% 30%, #6366f1, #4338ca);"></div>
                                <span class="score-size" id="scoreVeryLarge">매우 큼 (>50px)</span>
                                <span class="score-points">5<span id="pointsUnit5">점</span></span>
                            </div>
                        </div>
                    </div>

                    <button id="startBtn" class="btn btn-primary">게임 시작</button>
                    
                    <!-- 고급 설정 토글 버튼 -->
                    <button id="advancedToggleBtn" class="btn btn-secondary">
                        <span id="advancedToggleText">고급 설정</span> ⚙️
                    </button>
                </div>
                
                <!-- 고급 설정 패널 -->
                <div id="advancedPanel" class="advanced-panel">
                    <div class="panel-header">
                        <h3 id="advancedTitle">고급 설정</h3>
                        <button id="closePanelBtn" class="btn-close">✕</button>
                    </div>
                    
                    <div class="panel-content">
                        <!-- 화면 크기 설정 -->
                        <div class="panel-section">
                            <h4 id="labelScreenSize">화면 크기</h4>
                            
                            <!-- 프리셋 버튼 -->
                            <div class="preset-buttons">
                                <button class="btn-preset" data-width="1920" data-height="1080">
                                    <span id="presetFullHD">Full HD</span><br><small>1920×1080</small>
                                </button>
                                <button class="btn-preset" data-width="1280" data-height="720">
                                    <span id="presetHD">HD</span><br><small>1280×720</small>
                                </button>
                                <button class="btn-preset" data-width="2560" data-height="1440">
                                    <span id="preset2K">2K</span><br><small>2560×1440</small>
                                </button>
                                <button id="btnWindowSize" class="btn-preset">
                                    <span id="presetWindow">창 크기</span><br><small id="windowSizeText">현재 창</small>
                                </button>
                            </div>
                            
                            <div class="form-group">
                                <label id="labelWidth" for="screenWidthInput">너비 (px)</label>
                                <div class="control-wrapper">
                                    <input id="screenWidthInput" type="range" min="800" max="2560" value="1920" step="10" />
                                    <input id="screenWidthNumber" type="number" min="800" max="2560" value="1920" step="10" />
                                </div>
                            </div>
                            <div class="form-group">
                                <label id="labelHeight" for="screenHeightInput">높이 (px)</label>
                                <div class="control-wrapper">
                                    <input id="screenHeightInput" type="range" min="600" max="1440" value="1080" step="10" />
                                    <input id="screenHeightNumber" type="number" min="600" max="1440" value="1080" step="10" />
                                </div>
                            </div>
                            <button id="applyScreenBtn" class="btn btn-apply">
                                <span id="applyScreenText">화면 크기 적용</span>
                            </button>
                        </div>

                        <!-- 배경색 설정 -->
                        <div class="panel-section">
                            <h4 id="labelBackgroundColor">배경색</h4>
                            
                            <!-- 색상 프리셋 -->
                            <div class="color-presets">
                                <button class="btn-color" data-color="#0f172a" style="background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);" title="기본 (다크 블루)">
                                    <span class="check">✓</span>
                                </button>
                                <button class="btn-color" data-color="#1a1a2e" style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);" title="미드나잇">
                                </button>
                                <button class="btn-color" data-color="#2d132c" style="background: linear-gradient(135deg, #2d132c 0%, #801336 100%);" title="다크 퍼플">
                                </button>
                                <button class="btn-color" data-color="#0a0e27" style="background: linear-gradient(135deg, #0a0e27 0%, #1a1a3e 100%);" title="우주">
                                </button>
                                <button class="btn-color" data-color="#1a1a1a" style="background: linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%);" title="블랙">
                                </button>
                                <button class="btn-color" data-color="#1b4332" style="background: linear-gradient(135deg, #1b4332 0%, #2d6a4f 100%);" title="포레스트">
                                </button>
                            </div>
                            
                            <div class="form-group">
                                <label id="labelCustomColor" for="customColorInput">커스텀 색상</label>
                                <div class="color-picker-wrapper">
                                    <input id="customColorInput" type="color" value="#0f172a" />
                                    <input id="customColorText" type="text" value="#0f172a" placeholder="#000000" />
                                    <button id="applyColorBtn" class="btn btn-apply-small">적용</button>
                                </div>
                            </div>
                        </div>

                        <!-- 커스텀 난이도 설정 -->
                        <div id="customSettings" class="panel-section" style="display:none;">
                            <h4 id="labelCustomDifficulty">커스텀 난이도</h4>
                            <div class="form-group custom-control">
                                <label id="labelCustomSpawn" for="customSpawnInput">생성 간격 (ms)</label>
                                <div class="control-wrapper">
                                    <input id="customSpawnInput" type="range" min="200" max="2000" value="600" step="50" />
                                    <input id="customSpawnNumber" type="number" min="200" max="2000" value="600" step="50" />
                                </div>
                            </div>
                            <div class="form-group custom-control">
                                <label id="labelCustomSpeed" for="customSpeedInput">낙하 속도</label>
                                <div class="control-wrapper">
                                    <input id="customSpeedInput" type="range" min="0.5" max="10" value="2.75" step="0.25" />
                                    <input id="customSpeedNumber" type="number" min="0.5" max="10" value="2.75" step="0.25" />
                                </div>
                            </div>
                            <div class="form-group custom-control">
                                <label id="labelCustomSizeMin" for="customSizeMinInput">최소 크기 (px)</label>
                                <div class="control-wrapper">
                                    <input id="customSizeMinInput" type="range" min="10" max="100" value="20" step="2" />
                                    <input id="customSizeMinNumber" type="number" min="10" max="100" value="20" step="2" />
                                    <canvas id="previewBallMin" width="100" height="100" class="ball-preview"></canvas>
                                </div>
                            </div>
                            <div class="form-group custom-control">
                                <label id="labelCustomSizeMax" for="customSizeMaxInput">최대 크기 (px)</label>
                                <div class="control-wrapper">
                                    <input id="customSizeMaxInput" type="range" min="10" max="100" value="50" step="2" />
                                    <input id="customSizeMaxNumber" type="number" min="10" max="100" value="50" step="2" />
                                    <canvas id="previewBallMax" width="100" height="100" class="ball-preview"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>        <!-- Game Screen -->
        <div id="gameScreen" class="screen hidden">
            <div class="game-header">
                <div class="game-stats">
                    <div class="stat">
                        <span id="scoreLabel" class="stat-label">점수:</span>
                        <span id="score" class="stat-value">0</span>
                    </div>
                    <div class="stat">
                        <span id="livesLabel" class="stat-label">목숨:</span>
                        <div id="lives" class="lives-display"></div>
                    </div>
                    <div class="stat">
                        <span id="timeLabel" class="stat-label">시간:</span>
                        <span id="timer" class="stat-value">—</span>
                    </div>
                </div>
                <button id="quitBtn" class="btn btn-quit">
                    <span id="quitBtnText">종료</span>
                </button>
            </div>
            <div id="gameArea" class="game-area">
                <canvas id="gameCanvas"></canvas>
            </div>
        </div>

        <!-- Game Over Screen -->
        <div id="gameOverScreen" class="screen hidden">
            <div class="screen-content">
                <h2 id="gameOverTitle" class="game-over-title">게임 오버</h2>
                <p id="gameModeInfo" class="game-mode-info"></p>
                <p id="gameOverSubtitle" class="game-over-subtitle">최종 점수:</p>
                <p id="finalScore" class="final-score">0</p>
                <button id="restartBtn" class="btn btn-primary"><span id="restartBtnText">다시 하기</span></button>
            </div>
        </div>
    </main>

    <script type="module" src="js/game.js"></script>
</body>
</html>
